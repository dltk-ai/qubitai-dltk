

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>OpenDLTK on multiple machines &mdash; Qubitai-dltk v1.0.1 documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/copybutton.css" type="text/css" />
  <link rel="stylesheet" href="../_static/tabs.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/custom.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/clipboard.min.js"></script>
        <script src="../_static/copybutton.js"></script>
        <script src="../_static/tabs.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="DLTK Python SDK Client Installation" href="pythonClientSDK.html" />
    <link rel="prev" title="OpenDLTK on single machine" href="openDLTK_single_instance.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> Qubitai-dltk
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="index.html">About DLTK</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#opendltk-and-python-sdk-client">OpenDLTK and Python SDK client</a></li>
</ul>
<p class="caption"><span class="caption-text">Installation</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="openDLTK_setup.html">Setting Up OpenDLTK</a></li>
<li class="toctree-l1"><a class="reference internal" href="openDLTK_single_instance.html">OpenDLTK on single machine</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">OpenDLTK on multiple machines</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#about">About</a></li>
<li class="toctree-l2"><a class="reference internal" href="#getting-started">Getting Started</a></li>
<li class="toctree-l2"><a class="reference internal" href="#pre-requisites">Pre-requisites</a></li>
<li class="toctree-l2"><a class="reference internal" href="#installation">Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#usage">Usage</a></li>
<li class="toctree-l2"><a class="reference internal" href="#stop-dltk-services">Stop DLTK Services</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="pythonClientSDK.html">DLTK Python SDK Client Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="toggle_auth.html">Authentication</a></li>
<li class="toctree-l1"><a class="reference internal" href="generateAPIkey.html">Create user and Generate APIkey</a></li>
<li class="toctree-l1"><a class="reference internal" href="ansibleHostConfig.html">Configure Ansible Hosts</a></li>
<li class="toctree-l1"><a class="reference internal" href="configurations.html">Configurations</a></li>
</ul>
<p class="caption"><span class="caption-text">Machine Learning</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../machine_learning/index.html">About</a></li>
<li class="toctree-l1"><a class="reference internal" href="../machine_learning/index.html#uploading-a-dataset">Uploading a Dataset</a></li>
<li class="toctree-l1"><a class="reference internal" href="../machine_learning/index.html#check-job-status">Check Job Status</a></li>
<li class="toctree-l1"><a class="reference internal" href="../machine_learning/index.html#check-job-output">Check Job Output</a></li>
<li class="toctree-l1"><a class="reference internal" href="../machine_learning/index.html#downloading-a-file">Downloading a File</a></li>
<li class="toctree-l1"><a class="reference internal" href="../machine_learning/preprocessing.html">Preprocessor</a></li>
<li class="toctree-l1"><a class="reference internal" href="../machine_learning/classification.html">Classification</a></li>
<li class="toctree-l1"><a class="reference internal" href="../machine_learning/regression.html">Regression</a></li>
<li class="toctree-l1"><a class="reference internal" href="../machine_learning/clustering.html">Clustering</a></li>
</ul>
<p class="caption"><span class="caption-text">Computer Vision</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../computer_vision/index.html">About</a></li>
<li class="toctree-l1"><a class="reference internal" href="../computer_vision/index.html#image-classification">Image Classification</a></li>
<li class="toctree-l1"><a class="reference internal" href="../computer_vision/index.html#object-detection">Object Detection</a></li>
<li class="toctree-l1"><a class="reference internal" href="../computer_vision/index.html#face-detection">Face Detection</a></li>
</ul>
<p class="caption"><span class="caption-text">NLP</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../natural_language_processing/index.html">About</a></li>
<li class="toctree-l1"><a class="reference internal" href="../natural_language_processing/index.html#sentiment-analysis">Sentiment Analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="../natural_language_processing/index.html#parts-of-speech-tagger">Parts of Speech Tagger</a></li>
<li class="toctree-l1"><a class="reference internal" href="../natural_language_processing/index.html#named-entity-recognition">Named Entity Recognition</a></li>
<li class="toctree-l1"><a class="reference internal" href="../natural_language_processing/index.html#dependancy-parser">Dependancy Parser</a></li>
<li class="toctree-l1"><a class="reference internal" href="../natural_language_processing/index.html#tags-recognition">Tags Recognition</a></li>
</ul>
<p class="caption"><span class="caption-text">Conversation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../conversation/index.html">About</a></li>
<li class="toctree-l1"><a class="reference internal" href="../conversation/index.html#speech-to-text">Speech to Text</a></li>
</ul>
<p class="caption"><span class="caption-text">History</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../history/index.html">History</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Qubitai-dltk</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>OpenDLTK on multiple machines</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/getting_started/openDLTK_multiple_instance.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="opendltk-on-multiple-machines">
<h1>OpenDLTK on multiple machines<a class="headerlink" href="#opendltk-on-multiple-machines" title="Permalink to this headline">¶</a></h1>
<div class="contents local topic" id="table-of-contents">
<p class="topic-title first">Table of Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#about" id="id3">About</a></p></li>
<li><p><a class="reference internal" href="#getting-started" id="id4">Getting Started</a></p></li>
<li><p><a class="reference internal" href="#pre-requisites" id="id5">Pre-requisites</a></p></li>
<li><p><a class="reference internal" href="#installation" id="id6">Installation</a></p></li>
<li><p><a class="reference internal" href="#usage" id="id7">Usage</a></p></li>
<li><p><a class="reference internal" href="#stop-dltk-services" id="id8">Stop DLTK Services</a></p></li>
</ul>
</div>
<div class="section" id="about">
<h2><a class="toc-backref" href="#id3">About</a><a class="headerlink" href="#about" title="Permalink to this headline">¶</a></h2>
<p>As these AI models are computationally heavy and require higher RAM, its difficult to run all the services to run on local or single machine,
So in order to run these services smoothly its recommended to deploy OpenDLTK on multiple machines.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<ul class="simple">
<li><p><a class="reference external" href="index.html#opendltk-and-python-sdk-client">OpenDLTK Services</a> for more details on services present in OpenDLTK</p></li>
</ul>
</div>
</div>
<div class="section" id="getting-started">
<h2><a class="toc-backref" href="#id4">Getting Started</a><a class="headerlink" href="#getting-started" title="Permalink to this headline">¶</a></h2>
<p>For simple deployment of OpenDLTK on multiple instances we will use <a class="reference external" href="https://www.ansible.com/">Ansible</a>.</p>
<a class="reference internal image-reference" href="../_images/ansible_intro.png"><img alt="../_images/ansible_intro.png" class="align-right" src="../_images/ansible_intro.png" style="width: 400px;" /></a>
<p><strong>What is Ansible?</strong></p>
<p>Ansible is a simple automation tool that automates software application deployment, cloud provisioning, and configuration management.</p>
<p>It’s a server orchestration tool that helps you to manage and control a large number of <cite>remote servers</cite>  from single machine called <cite>Control Machines</cite> where ansible is installed.</p>
<blockquote>
<div><dl class="simple">
<dt><strong>1. Ansible Playbook</strong></dt><dd><p>These are a set of instructions that you send to run on a single or group of server hosts.</p>
</dd>
<dt><strong>2. Hosts</strong></dt><dd><p>It’s an inventory file that contains pieces of information about managed servers by ansible.</p>
</dd>
<dt><strong>3. Ansible role</strong></dt><dd><p>It is a set of tasks to configure a host to serve a certain purpose like configuring a service.</p>
</dd>
</dl>
</div></blockquote>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference external" href="https://www.ansible.com/overview/how-ansible-works">How Ansible Works?</a></p>
</div>
<p>We will use ansible to deploy OpenDLTK services on multiple machines as shown in below diagram.</p>
<a class="reference internal image-reference" href="../_images/ansible_install_diagram.png"><img alt="../_images/ansible_install_diagram.png" class="align-center" src="../_images/ansible_install_diagram.png" style="width: 1000px;" /></a>
</div>
<div class="section" id="pre-requisites">
<h2><a class="toc-backref" href="#id5">Pre-requisites</a><a class="headerlink" href="#pre-requisites" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>5 to 8 Servers with 2 vCPUs, 8 GB memory, 30GB Disk Space for each machine</p></li>
<li><p>Python3 installed on all the machines</p></li>
<li><p>Root/Admin privileges</p></li>
</ul>
</div>
<div class="section" id="installation">
<h2><a class="toc-backref" href="#id6">Installation</a><a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h2>
<p><strong>1. Ansible Installation</strong></p>
<div class="highlight-shell-session notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> sudo apt update
<span class="gp">$</span> sudo apt install software-properties-common
<span class="gp">$</span> sudo add-apt-repository ppa:ansible/ansible-2.9
<span class="gp">$</span> sudo apt install ansible
</pre></div>
</div>
<p>To verify whether ansible installation is successful, run below command</p>
<div class="highlight-shell-session notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> sudo ansible --version

<span class="go">ansible 2.9.6</span>
<span class="go">config file = /etc/ansible/ansible.cfg</span>
<span class="go">configured module search path = [&#39;/root/.ansible/plugins/modules&#39;, &#39;/usr/share/ansible/plugins/modules&#39;]</span>
<span class="go">ansible python module location = /usr/lib/python3/dist-packages/ansible</span>
<span class="go">executable location = /usr/bin/ansible</span>
<span class="go">python version = 3.8.5 (default, Jul 28 2020, 12:59:40) [GCC 9.3.0]</span>
</pre></div>
</div>
<p>For more detailed installation guide, please refer this <a class="reference external" href="https://docs.ansible.com/ansible/2.7/installation_guide/intro_installation.html">link</a></p>
<p><strong>2. Clone openDLTK github repository</strong></p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> git clone https://github.com/dltk-ai/openDLTK
</pre></div>
</div>
<p><strong>3. What this repo contains</strong></p>
<div class="admonition-todo admonition" id="id1">
<p class="admonition-title">Todo</p>
<p>add directory tree</p>
</div>
<p>Ansible playbooks &amp; roles, docker-compose files for openDLTK services &amp; configurations files.</p>
<p><strong>2. Initialize DLTK setup</strong></p>
<blockquote>
<div><div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> <span class="nb">cd</span> openDLTK
</pre></div>
</div>
<p>Use the following command to install pip for Python 3:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> sudo apt install python3-pip
<span class="gp">$</span> sudo pip3 install -r requirements.txt
<span class="gp">$</span> sudo python3 setup_init.py -m init
</pre></div>
</div>
</div></blockquote>
<p><strong>3. Updating Configuration</strong></p>
<blockquote>
<div><p><strong>Update config_multi.env</strong></p>
<blockquote>
<div><p>Please update config_multi.env file saved at <code class="file docutils literal notranslate"><span class="pre">/usr/dltk-ai/config_multi.env</span></code> by referring to <a class="reference external" href="configurations.html">Configurations Details</a></p>
</div></blockquote>
<p><strong>Ansible Host Configurations</strong></p>
<blockquote>
<div><p>While installing Ansible a hosts file is generated at <code class="docutils literal notranslate"><span class="pre">/etc/ansible/</span></code> path</p>
<p>Copy below host file into <code class="docutils literal notranslate"><span class="pre">/etc/ansible/hosts</span></code> path</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>[dltk-ai-db-host]
XX.XX.XX.XX ansible_user=root ansible_ssh_pass=`YOUR_PASSWORD`

[dltk-ai-base-host]
XX.XX.XX.XX ansible_user=root ansible_ssh_pass=`YOUR_PASSWORD`

[dltk-ai-wrapper-host]
XX.XX.XX.XX ansible_user=root ansible_ssh_pass=`YOUR_PASSWORD`

[dltk-ai-ml-wrapper-host]
XX.XX.XX.XX ansible_user=root ansible_ssh_pass=`YOUR_PASSWORD`

[dltk-ai-ml-scikit-host]
XX.XX.XX.XX ansible_user=root ansible_ssh_pass=`YOUR_PASSWORD`

[dltk-ai-ml-h2o-host]
XX.XX.XX.XX ansible_user=root ansible_ssh_pass=`YOUR_PASSWORD`

[dltk-ai-ml-weka-host]
XX.XX.XX.XX ansible_user=root ansible_ssh_pass=`YOUR_PASSWORD`

[dltk-ai-image-processor-host]
XX.XX.XX.XX ansible_user=root ansible_ssh_pass=`YOUR_PASSWORD`

[dltk-ai-object-detector-host]
XX.XX.XX.XX ansible_user=root ansible_ssh_pass=`YOUR_PASSWORD`
</pre></div>
</div>
<p>Please update <code class="docutils literal notranslate"><span class="pre">XX.XX.XX.XX</span></code> with your IP Addresses and <code class="docutils literal notranslate"><span class="pre">YOUR_PASSWORD</span></code> for <code class="docutils literal notranslate"><span class="pre">root</span></code> user</p>
<div class="admonition caution">
<p class="admonition-title">Caution</p>
<p>Please don’t modify host names like (<code class="docutils literal notranslate"><span class="pre">dltk-ai-object-detector-host</span></code>, <code class="docutils literal notranslate"><span class="pre">dltk-ai-db-host</span></code>)</p>
</div>
<p>Please login to <strong>all</strong> remote machines using <code class="docutils literal notranslate"><span class="pre">ssh</span> <span class="pre">username&#64;IPaddress</span></code> command</p>
<p>To verify whether ansible host &amp; roles are setup correctly, we will use following commands</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> ansible -m ping all
</pre></div>
</div>
</div></blockquote>
</div></blockquote>
<p><strong>4. Update config</strong></p>
<blockquote>
<div><div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> sudo python3 setup.py -m update_config
</pre></div>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Whenever config_multi.env is changed this command needs to be run, to update those changes.</p>
</div>
</div></blockquote>
<p><strong>5. Install Services</strong></p>
<blockquote>
<div><p>Please provide <code class="docutils literal notranslate"><span class="pre">folderpath</span></code> where you want to install OpenDLTK services on remote machines in all the below commands.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Please use same path in all the remote machines</p>
</div>
<p><strong>Docker</strong></p>
<blockquote>
<div><p>To install docker on all the remote machine, below ansible playbook command can be used. This will install docker on all the remote machines.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> sudo ansible-playbook ansible/playbooks/dltk-ai-docker.yml --extra-vars <span class="s2">&quot;folderpath=path/to/folder&quot;</span>
</pre></div>
</div>
</div></blockquote>
<p><strong>Database</strong></p>
<blockquote>
<div><p><strong>Postgres Setup</strong></p>
<blockquote>
<div><p>If you already have a postgres database then you can skip setting up a new postgres container, the details of existing postgres
needs to be updated in <code class="file docutils literal notranslate"><span class="pre">/usr/dltk-ai/config_multi.env</span></code> file.</p>
<p>But in case you dont have an existing postgres database, you need to setup postgres database.</p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--0-input--1" name="tab-set--0" type="radio"><label class="tab-label" for="tab-set--0-input--1">Already Existing Postgres</label><div class="tab-content docutils container">
<ol class="arabic simple">
<li><p>Please update your existing postgres details in <code class="file docutils literal notranslate"><span class="pre">/usr/dltk-ai/config_multi.env</span></code>, if not already done in configuration step.</p></li>
<li><p>After Updating <code class="file docutils literal notranslate"><span class="pre">/usr/dltk-ai/config_multi.env</span></code> , run <code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">python3</span> <span class="pre">setup.py</span> <span class="pre">-m</span> <span class="pre">update_config</span></code> command to update configurations changes.</p></li>
</ol>
</div>
<input class="tab-input" id="tab-set--0-input--2" name="tab-set--0" type="radio"><label class="tab-label" for="tab-set--0-input--2">Setup Postgres</label><div class="tab-content docutils container">
<p>Run below command to setup postgres container</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">#</span> please go to openDLTK directory
<span class="gp">$</span> sudo ansible-playbook ansible/playbooks/dltk-ai-postgres.yml --extra-vars <span class="s2">&quot;folderpath=path/to/folder&quot;</span>
</pre></div>
</div>
</div>
</div>
</div></blockquote>
<p><strong>InfluxDB and Redis Setup</strong></p>
<blockquote>
<div><p>To setup Influxdb and Redis containers on remote machines, run below command.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> sudo ansible-playbook ansible/playbooks/dltk-ai-db.yml --extra-vars <span class="s2">&quot;folderpath=path/to/folder&quot;</span>
</pre></div>
</div>
</div></blockquote>
</div></blockquote>
<p><strong>Base Services</strong></p>
<blockquote>
<div><p>To setup Base Service containers on remote machines, run below command.</p>
<p>Base Service will setup Kong, Registry Service, Solution Service.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> sudo ansible-playbook ansible/playbooks/dltk-ai-base.yml --extra-vars <span class="s2">&quot;folderpath=path/to/folder&quot;</span>
</pre></div>
</div>
</div></blockquote>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Database and Base are necessary to run below services, so proceed to other service deployment after deploying above two services.</p>
</div>
<p><strong>Machine Learning</strong></p>
<blockquote>
<div><p>To setup ML Wrapper Service container on remote machine, run below command</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> sudo ansible-playbook ansible/playbooks/dltk-ai-ml-wrapper.yml --extra-vars <span class="s2">&quot;folderpath=path/to/folder&quot;</span>
</pre></div>
</div>
<p>Based on your choice to install ML-Scikit, ML-H2O or ML-weka, run below command respectively.</p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--1-input--1" name="tab-set--1" type="radio"><label class="tab-label" for="tab-set--1-input--1">ML Scikit</label><div class="tab-content docutils container">
<p>To setup ML Scikit Service container on remote machine, run below command</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> sudo ansible-playbook ansible/playbooks/dltk-ai-ml-scikit.yml --extra-vars <span class="s2">&quot;folderpath=path/to/folder&quot;</span>
</pre></div>
</div>
</div>
<input class="tab-input" id="tab-set--1-input--2" name="tab-set--1" type="radio"><label class="tab-label" for="tab-set--1-input--2">ML H2O</label><div class="tab-content docutils container">
<p>To setup ML H2O Service container on remote machine, run below command</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> sudo ansible-playbook ansible/playbooks/dltk-ai-ml-h2o.yml --extra-vars <span class="s2">&quot;folderpath=path/to/folder&quot;</span>
</pre></div>
</div>
</div>
<input class="tab-input" id="tab-set--1-input--3" name="tab-set--1" type="radio"><label class="tab-label" for="tab-set--1-input--3">ML Weka</label><div class="tab-content docutils container">
<p>To setup ML Weka Service container on remote machine, run below command</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> sudo ansible-playbook ansible/playbooks/dltk-ai-ml-weka.yml --extra-vars <span class="s2">&quot;folderpath=path/to/folder&quot;</span>
</pre></div>
</div>
</div>
</div>
</div></blockquote>
<p><strong>Computer Vision</strong></p>
<blockquote>
<div><p>For running Computer vision services we will first deploy a wrapper which route the Images, client request to right processor</p>
<p>To setup Computer Vision Wrapper Service container on remote machine, run below command</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> sudo ansible-playbook ansible/playbooks/dltk-ai-cv-wrapper.yml --extra-vars <span class="s2">&quot;folderpath=path/to/folder&quot;</span>
</pre></div>
</div>
<p>Based on your choice to install Image Classification, Object Detection, Face Analytics run below command respectively.</p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--2-input--1" name="tab-set--2" type="radio"><label class="tab-label" for="tab-set--2-input--1">Image Classification</label><div class="tab-content docutils container">
<p>Image Classification takes Image as an input &amp; return predicted labels as output in JSON format</p>
<p>To setup Computer Vision Image Classification Service container on remote machine, run below command</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> sudo ansible-playbook ansible/playbooks/dltk-ai-cv-image-classification.yml --extra-vars <span class="s2">&quot;folderpath=path/to/folder&quot;</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>For more details on Image Classification features, please refer this section</p>
</div>
</div>
<input class="tab-input" id="tab-set--2-input--2" name="tab-set--2" type="radio"><label class="tab-label" for="tab-set--2-input--2">Object Detection</label><div class="tab-content docutils container">
<p>Object Detection detects Objects in an Image</p>
<p>To deploy Object Detection service, run below command in ansible control machine</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> sudo ansible-playbook ansible/playbooks/dltk-ai-cv-object-detection.yml --extra-vars <span class="s2">&quot;folderpath=path/to/folder&quot;</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>For more details on Object Detection features, please refer this section</p>
</div>
</div>
<input class="tab-input" id="tab-set--2-input--3" name="tab-set--2" type="radio"><label class="tab-label" for="tab-set--2-input--3">Face Analytics</label><div class="tab-content docutils container">
<p>This service provide state-of-the-art open source AI models &amp; support to various AI engines to provide face analytics on Images</p>
<p>To deploy Face Analytics services, run below command in ansible control machine</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> sudo ansible-playbook ansible/playbooks/dltk-ai-cv-face-analytics.yml --extra-vars <span class="s2">&quot;folderpath=path/to/folder&quot;</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>For more details on Face Analytics features, please refer this section</p>
</div>
</div>
</div>
</div></blockquote>
<p><strong>Natural Language Processing</strong></p>
<blockquote>
<div><p>This service provide various NLP features like Name Entity Recognition, Part of Speech and Sentiment Analysis using various open source AI models &amp; supported AI Engines</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> sudo ansible-playbook ansible/playbooks/dltk-ai-nlp.yml --extra-vars <span class="s2">&quot;folderpath=path/to/folder&quot;</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>For more detail on NLP features, please refer this section</p>
</div>
</div></blockquote>
</div></blockquote>
<p><strong>OpenDLTK Services Status Check</strong></p>
<blockquote>
<div><p>All the OpenDLTK Service will register to registry service while starting and also every 30sec update their status.
To check whether services installed are correctly started or not, go to <a class="reference external" href="http://your_base_ip_address:8761">http://your_base_ip_address:8761</a> and check whether your services are registered or not.</p>
<p><em>Expected Output</em></p>
<img alt="../_images/eureka.png" class="align-center" src="../_images/eureka.png" />
<p>As we can see in this example, Machine Learning Service &amp; Machine Learning Weka Service &amp; Solution Service are setup correctly.</p>
</div></blockquote>
</div>
<div class="section" id="usage">
<h2><a class="toc-backref" href="#id7">Usage</a><a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Below code block can be run after DLTK python client SDK is installed. The installation of which is covered in next section here <a class="reference external" href="pythonclientsdk.html#installation">installation</a> .</p>
</div>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--3-input--1" name="tab-set--3" type="radio"><label class="tab-label" for="tab-set--3-input--1">with Auth Disabled</label><div class="tab-content docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">dltk_ai</span>
<span class="n">client</span> <span class="o">=</span> <span class="n">dltk_ai</span><span class="o">.</span><span class="n">DltkAiClient</span><span class="p">(</span><span class="s1">&#39;YOUR_API_KEY&#39;</span><span class="p">,</span> <span class="n">base_url</span><span class="o">=</span><span class="s1">&#39;http://localhost:8000&#39;</span><span class="p">)</span>

<span class="n">text</span> <span class="o">=</span> <span class="s2">&quot;The product is very easy to use and has got a really good life expectancy.&quot;</span>

<span class="n">sentiment_analysis_response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">sentiment_analysis</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">sentiment_analysis_response</span><span class="o">.</span><span class="n">text</span><span class="p">)</span>
</pre></div>
</div>
</div>
<input class="tab-input" id="tab-set--3-input--2" name="tab-set--3" type="radio"><label class="tab-label" for="tab-set--3-input--2">with Auth Enabled</label><div class="tab-content docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">dltk_ai</span>
<span class="n">client</span> <span class="o">=</span> <span class="n">dltk_ai</span><span class="o">.</span><span class="n">DltkAiClient</span><span class="p">(</span><span class="s1">&#39;86122578-4b01-418d-80cc-049e283d1e2b&#39;</span><span class="p">,</span> <span class="n">base_url</span><span class="o">=</span><span class="s1">&#39;http://localhost:8000&#39;</span><span class="p">)</span>

<span class="n">text</span> <span class="o">=</span> <span class="s2">&quot;The product is very easy to use and has got a really good life expectancy.&quot;</span>

<span class="n">sentiment_analysis_response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">sentiment_analysis</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">sentiment_analysis_response</span><span class="o">.</span><span class="n">text</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<ol class="arabic simple">
<li><p>To enable/disable authentication <a class="reference external" href="http://localhost:63342/qubitai-dltk/docs/build/html/getting_started/toggle_auth.html">link</a> .</p></li>
<li><p>How to Create user and Generate API Key <a class="reference external" href="http://localhost:63342/qubitai-dltk/docs/build/html/getting_started/generateAPIkey.html">link</a> .</p></li>
</ol>
</div>
</div>
<div class="section" id="stop-dltk-services">
<h2><a class="toc-backref" href="#id8">Stop DLTK Services</a><a class="headerlink" href="#stop-dltk-services" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p><strong>Natural Language Processing</strong></p>
<blockquote>
<div><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">ansible</span><span class="o">-</span><span class="n">playbook</span> <span class="n">ansible</span><span class="o">/</span><span class="n">playbooks</span><span class="o">/</span><span class="n">dltk</span><span class="o">-</span><span class="n">ai</span><span class="o">-</span><span class="n">stop</span><span class="o">-</span><span class="n">nlp</span><span class="o">.</span><span class="n">yml</span> <span class="o">--</span><span class="n">extra</span><span class="o">-</span><span class="nb">vars</span> <span class="s2">&quot;folderpath=/home/dltk&quot;</span>
</pre></div>
</div>
</div></blockquote>
<p><strong>Machine Learning</strong></p>
<blockquote>
<div><div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--4-input--1" name="tab-set--4" type="radio"><label class="tab-label" for="tab-set--4-input--1">ML scikit</label><div class="tab-content docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">ansible</span><span class="o">-</span><span class="n">playbook</span> <span class="n">ansible</span><span class="o">/</span><span class="n">playbooks</span><span class="o">/</span><span class="n">dltk</span><span class="o">-</span><span class="n">ai</span><span class="o">-</span><span class="n">stop</span><span class="o">-</span><span class="n">ml</span><span class="o">-</span><span class="n">scikit</span><span class="o">.</span><span class="n">yml</span> <span class="o">--</span><span class="n">extra</span><span class="o">-</span><span class="nb">vars</span> <span class="s2">&quot;folderpath=/home/dltk&quot;</span>
</pre></div>
</div>
</div>
<input class="tab-input" id="tab-set--4-input--2" name="tab-set--4" type="radio"><label class="tab-label" for="tab-set--4-input--2">ML H2O</label><div class="tab-content docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">ansible</span><span class="o">-</span><span class="n">playbook</span> <span class="n">ansible</span><span class="o">/</span><span class="n">playbooks</span><span class="o">/</span><span class="n">dltk</span><span class="o">-</span><span class="n">ai</span><span class="o">-</span><span class="n">stop</span><span class="o">-</span><span class="n">ml</span><span class="o">-</span><span class="n">h2o</span><span class="o">.</span><span class="n">yml</span> <span class="o">--</span><span class="n">extra</span><span class="o">-</span><span class="nb">vars</span> <span class="s2">&quot;folderpath=/home/dltk&quot;</span>
</pre></div>
</div>
</div>
<input class="tab-input" id="tab-set--4-input--3" name="tab-set--4" type="radio"><label class="tab-label" for="tab-set--4-input--3">ML Weka</label><div class="tab-content docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">ansible</span><span class="o">-</span><span class="n">playbook</span> <span class="n">ansible</span><span class="o">/</span><span class="n">playbooks</span><span class="o">/</span><span class="n">dltk</span><span class="o">-</span><span class="n">ai</span><span class="o">-</span><span class="n">stop</span><span class="o">-</span><span class="n">ml</span><span class="o">-</span><span class="n">weka</span><span class="o">.</span><span class="n">yml</span> <span class="o">--</span><span class="n">extra</span><span class="o">-</span><span class="nb">vars</span> <span class="s2">&quot;folderpath=/home/dltk&quot;</span>
</pre></div>
</div>
</div>
</div>
<p><em>ML Wrapper</em></p>
<div class="admonition caution">
<p class="admonition-title">Caution</p>
<p>Run Below command to stop <strong>ML-Wrapper</strong> only if all the above ML services (ML Scikit, ML H2O, ML weka) are stopped.</p>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">ansible</span><span class="o">-</span><span class="n">playbook</span> <span class="n">ansible</span><span class="o">/</span><span class="n">playbooks</span><span class="o">/</span><span class="n">dltk</span><span class="o">-</span><span class="n">ai</span><span class="o">-</span><span class="n">stop</span><span class="o">-</span><span class="n">ml</span><span class="o">-</span><span class="n">wrapper</span><span class="o">.</span><span class="n">yml</span> <span class="o">--</span><span class="n">extra</span><span class="o">-</span><span class="nb">vars</span> <span class="s2">&quot;folderpath=/home/dltk&quot;</span>
</pre></div>
</div>
</div></blockquote>
<p><strong>Computer Vision</strong></p>
<blockquote>
<div><div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--5-input--1" name="tab-set--5" type="radio"><label class="tab-label" for="tab-set--5-input--1">Image Classification</label><div class="tab-content docutils container">
<p>To stop Image Classification service, run below command</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">ansible</span><span class="o">-</span><span class="n">playbook</span> <span class="n">ansible</span><span class="o">/</span><span class="n">playbooks</span><span class="o">/</span><span class="n">dltk</span><span class="o">-</span><span class="n">ai</span><span class="o">-</span><span class="n">stop</span><span class="o">-</span><span class="n">cv</span><span class="o">-</span><span class="n">image</span><span class="o">-</span><span class="n">classification</span><span class="o">.</span><span class="n">yml</span> <span class="o">--</span><span class="n">extra</span><span class="o">-</span><span class="nb">vars</span> <span class="s2">&quot;folderpath=/home/dltk&quot;</span>
</pre></div>
</div>
</div>
<input class="tab-input" id="tab-set--5-input--2" name="tab-set--5" type="radio"><label class="tab-label" for="tab-set--5-input--2">Object Detection</label><div class="tab-content docutils container">
<p>To stop Object Detection service, run below command in ansible control machine</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">ansible</span><span class="o">-</span><span class="n">playbook</span> <span class="n">ansible</span><span class="o">/</span><span class="n">playbooks</span><span class="o">/</span><span class="n">dltk</span><span class="o">-</span><span class="n">ai</span><span class="o">-</span><span class="n">stop</span><span class="o">-</span><span class="n">cv</span><span class="o">-</span><span class="nb">object</span><span class="o">-</span><span class="n">detection</span><span class="o">.</span><span class="n">yml</span> <span class="o">--</span><span class="n">extra</span><span class="o">-</span><span class="nb">vars</span> <span class="s2">&quot;folderpath=/home/dltk&quot;</span>
</pre></div>
</div>
</div>
<input class="tab-input" id="tab-set--5-input--3" name="tab-set--5" type="radio"><label class="tab-label" for="tab-set--5-input--3">Face Analytics</label><div class="tab-content docutils container">
<p>To stop Face Analytics services, run below command in ansible control machine</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">ansible</span><span class="o">-</span><span class="n">playbook</span> <span class="n">ansible</span><span class="o">/</span><span class="n">playbooks</span><span class="o">/</span><span class="n">dltk</span><span class="o">-</span><span class="n">ai</span><span class="o">-</span><span class="n">stop</span><span class="o">-</span><span class="n">cv</span><span class="o">-</span><span class="n">face</span><span class="o">-</span><span class="n">analytics</span><span class="o">.</span><span class="n">yml</span> <span class="o">--</span><span class="n">extra</span><span class="o">-</span><span class="nb">vars</span> <span class="s2">&quot;folderpath=/home/dltk&quot;</span>
</pre></div>
</div>
</div>
</div>
<p><em>CV-Wrapper</em></p>
<blockquote>
<div><p>To stop CV wrapper, run below command in ansible control machine</p>
<div class="admonition caution">
<p class="admonition-title">Caution</p>
<p>Run below command only if all the above computer vision services like Image Classification, Object Detection &amp; Face Analytics are stopped.</p>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">ansible</span><span class="o">-</span><span class="n">playbook</span> <span class="n">ansible</span><span class="o">/</span><span class="n">playbooks</span><span class="o">/</span><span class="n">dltk</span><span class="o">-</span><span class="n">ai</span><span class="o">-</span><span class="n">stop</span><span class="o">-</span><span class="n">cv</span><span class="o">-</span><span class="n">wrapper</span><span class="o">.</span><span class="n">yml</span> <span class="o">--</span><span class="n">extra</span><span class="o">-</span><span class="nb">vars</span> <span class="s2">&quot;folderpath=/home/dltk&quot;</span>
</pre></div>
</div>
</div></blockquote>
</div></blockquote>
<p><strong>Base</strong></p>
<blockquote>
<div><div class="admonition caution">
<p class="admonition-title">Caution</p>
<p>Run below command only to stop base service only if all the above services are stopped, as uninstalling base will impact all the DLTK services</p>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">ansible</span><span class="o">-</span><span class="n">playbook</span> <span class="n">ansible</span><span class="o">/</span><span class="n">playbooks</span><span class="o">/</span><span class="n">dltk</span><span class="o">-</span><span class="n">ai</span><span class="o">-</span><span class="n">base</span><span class="o">.</span><span class="n">yml</span> <span class="o">--</span><span class="n">extra</span><span class="o">-</span><span class="nb">vars</span> <span class="s2">&quot;folderpath=/home/dltk&quot;</span>
</pre></div>
</div>
</div></blockquote>
</div></blockquote>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="pythonClientSDK.html" class="btn btn-neutral float-right" title="DLTK Python SDK Client Installation" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="openDLTK_single_instance.html" class="btn btn-neutral float-left" title="OpenDLTK on single machine" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, QubitAI.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>